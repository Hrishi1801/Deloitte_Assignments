<html>
	<head></head>
	<body>
		<h3>Assignment2  </h3>
		<hr/>
        <input type="button"   value="Show Table"   onclick="fn_ShowRows()"  />

	<br>
    	<input id="t1"  placeholder="Employee number"  />
		 
		<input type="button"   value="Remove Rows"   onclick="fn_RemoveRows()"  />
	 
		<br/><br/>
		<table  id="table1"  border="2"  width="500"  cellpadding="10" cellspacing="0">
			<tr>
					<th>ID</th>
					<th>Email</th>
					<th>First Name</th>
					<th>Last Name</th>
                    <th>Avatar</th>
			</tr>
		</table>
	 
		
		<script>	
		 
			  function fn_ShowRows()
			  {		
                var tableObj = document.getElementById("table1");		
                var arr= fetch("https://reqres.in/api/users")
					 	
                .then(response => response.json())
                .then(data => {
                    const users = data.data;
                   
                    while (tableObj.rows.length > 1) {
                        table.deleteRow(1);
                    }
                   
                    users.forEach((user, index) => 
						{
							 		var  row1 =  tableObj.insertRow(-1);			
						
									var  cell1 =  row1.insertCell(0);
									var  cell2 =  row1.insertCell(1);
									var  cell3 =  row1.insertCell(2);
                                    var  cell4 =  row1.insertCell(3);                         

                                    var  imgObj =  document.createElement("img");
					imgObj.setAttribute("id",  "img1");
					imgObj.setAttribute("width",  "300");
					imgObj.setAttribute("height",  "200");
					imgObj.setAttribute("border",  "2");
					imgObj.setAttribute("src",  user.avatar);

									cell1.innerHTML = user.id;						
									cell2.innerHTML = user.email;						
									cell3.innerHTML = user.first_name;	
                                    cell4.innerHTML = user.last_name;	
                                    row1.appendChild(imgObj);	

						});
                 });
                 }

                    function fn_RemoveRows()
			  {				
					 var tableObj = document.getElementById("table1");		
					 var txtObj1 = document.getElementById("t1").value;			
					
					 for (var i = 1, row; row = table1.rows[i]; i++) {
                if (row.cells[0].innerHTML === txtObj1) {
                    table1.deleteRow(i);
                }
            }

			  }
  
		</script>
	</body>
</html>